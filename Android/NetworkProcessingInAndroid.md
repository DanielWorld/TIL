# Network Processing In Android

아래 블로그에서와 같이 안드로이드에서 네트워킹을 사용하려면 꼭 쓰레드를 사용해야한다.
UI(메인)쓰레드와 네트워크 쓰레드의 역할에 대해서 잘 생각하고 사용해야겠다.           
 
http://mailmail.tistory.com/13
```
이전에 '비동기 처리를 위한 AsyncTask'라는 제목으로 포스팅을 했다. 
안드로이드 어플리케이션 구현에 있어서 아주 중요한 부분인데 HttpURLConnection을 직접 구현하고 싶다면 저 포스팅을 보고 오길 강력 추천한다. 
일단 간단히 설명하자면 안드로이드의 UI관련 처리는 메인쓰레드가 담당한다. 
메인쓰레드는 UI쓰레드라고도 하며, 우리가 특정 명령으로 수행시키지 않아도 자동으로 수행된다. 
조금 더 구체적으로 말하자면 액티비티를 띄우고 액티비티 내에서 일어나는 모든 처리는 메인쓰레드가 담당한다고 보면된다. 
즉 onCreate()에서의 코드 수행도 메인쓰레드가 처리하며 혼자서 처리하다보니 동시 작업에 무리가 있다. 
즉 현재 띄워진 액티비티 내에서 다운로드와 같은 오랜시간 동안 수행하는 작업을 메인쓰레드가 하게되면 다른 UI가 먹통이 된다. 
모두 메인쓰레드가 처리하기 때문에 다운로드가 끝나기 전엔 다른 작업을 수행할 수 없는 것이다. 
이를 해결하기 위해 비동기 처리를 해야하며 안드로이드 제공하는 AsyncTask라는 별도의 쓰레드를 이용한다. 
AsyncTask를 사용하면 메인쓰레드와 별개로 작업이 수행되며 수행 후 결과만 메인쓰레드에 넘겨주어 효율적인 작업이 이뤄질 수 있다. 
"아 귀찮아. 그냥 난 메인쓰레드에서 돌릴거야!"라고 생각하시는 분들도 계실텐데.. 
실제로 돌려보면 Runtime Exception과 함께 다음과 같은 예외 상황이 발생한다.
android.os.NetworkOnMainThreadException !!
따라서 AsyncTask를 사용하길 적극 권장한다.
```
  '비동기 처리를 위한 AsyncTask' : http://mailmail.tistory.com/12
